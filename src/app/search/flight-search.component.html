<form [formGroup]="searchForm" autocomplete="off" novalidate (ngSubmit)="handleSearch(searchForm.value)">
    <div>
        <div fxLayout.xs="column" fxLayout.gt-xs="row" fxLayoutAlign="center">
            <div fxFlex.gt-sm="40%">
                <div fxLayout="column">
                    <md-input-container class="flight-search-code">
                        <input mdInput [formControl]="departureAirportCode" placeholder="Departure airport code">
                        <md-error *ngIf="departureAirportCode.hasError('required')">
                            Departure airport code is required.
                        </md-error>
                        <md-error *ngIf="departureAirportCode.hasError('minlength')">
                            Departure airport code must be 3 characters.
                        </md-error>
                        <md-error *ngIf="departureAirportCode.hasError('maxlength')">
                            Departure airport code must be 3 characters.
                        </md-error>
                    </md-input-container>
                    <md-input-container class="flight-search-date">
                        <input mdInput [mdDatepicker]="departureDatePicker" [formControl]="departureDate" placeholder="Departure date"
                            [min]="defaultMinDate">
                        <button mdSuffix [mdDatepickerToggle]="departureDatePicker"></button>
                        <md-error *ngIf="departureDate.hasError('required')">
                            Departure date is required.
                        </md-error>
                        <md-error *ngIf="departureDate.hasError('mdDatepickerMin')">
                            Departure date cannot be a past date.
                        </md-error>
                    </md-input-container>
                    <md-datepicker #departureDatePicker></md-datepicker>
                </div>
            </div>
            <div fxFlex.gt-sm="40%">
                <div fxLayout="column">
                    <md-input-container class="flight-search-code">
                        <input mdInput [formControl]="returnAirportCode" placeholder="Return airport code">
                        <md-error *ngIf="returnAirportCode.hasError('required')">
                            Return airport code is required.
                        </md-error>
                        <md-error *ngIf="returnAirportCode.hasError('minlength')">
                            Return airport code must be 3 characters.
                        </md-error>
                        <md-error *ngIf="returnAirportCode.hasError('maxlength')">
                            Return airport code must be 3 characters.
                        </md-error>
                    </md-input-container>
                    <md-input-container class="flight-search-date">
                        <input mdInput [mdDatepicker]="returnDatePicker" [formControl]="returnDate" placeholder="Return date"
                            [min]="departureDate.value || defaultMinDate">
                        <button mdSuffix [mdDatepickerToggle]="returnDatePicker"></button>
                        <md-error *ngIf="returnDate.hasError('required')">
                            Return date is required.
                        </md-error>
                        <md-error *ngIf="returnDate.hasError('mdDatepickerMin')">
                            <span *ngIf="departureDate.value">Return date cannot be before departure date.</span>
                            <span *ngIf="!departureDate.value">Return date cannot be a past date.</span>
                        </md-error>
                    </md-input-container>
                    <md-datepicker #returnDatePicker></md-datepicker>
                </div>
            </div>
        </div>
    </div>
    <div>
        <div fxLayout.xs="column" fxLayout.gt-xs="row" fxLayoutAlign="center">
            <div fxFlex.xs="1" fxFlex.gt-xs="30%" class="flight-search-button">
                <button type="submit" md-raised-button color="primary" fxFlex.xs>Search</button>
            </div>
            <div fxFlex.xs="1" fxFlex.gt-xs="30%" class="flight-search-button" *ngIf="showClose">
                <button type="button" md-raised-button (click)="handleClose()" fxFlex.xs>Close</button>
            </div>
        </div>
    </div>
</form>